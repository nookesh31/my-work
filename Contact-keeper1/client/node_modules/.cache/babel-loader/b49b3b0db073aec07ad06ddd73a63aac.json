{"ast":null,"code":"import _defineProperty from\"/home/dev5/Desktop/Nookesh/Contact-Keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/dev5/Desktop/Nookesh/Contact-Keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/dev5/Desktop/Nookesh/Contact-Keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AuthContext from'../../context/auth/authContext';import AlertContext from'../../context/alert/alertContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var login=authContext.login,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='Invalid Credentials'){setAlert(error,'danger');clearErrors();}//eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(email===''||password===''){setAlert('Please fill in all fields','danger');}else{login({email:email,password:password});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Account\",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\" Login\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,required:true,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,required:true,onChange:onChange})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-primary btn-block\"})]})]});};export default Login;","map":{"version":3,"sources":["/home/dev5/Desktop/Nookesh/Contact-Keeper/client/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AuthContext","AlertContext","Login","props","alertContext","authContext","setAlert","login","error","clearErrors","isAuthenticated","history","push","email","password","user","setUser","onChange","e","target","name","value","onSubmit","preventDefault"],"mappings":"sfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAK,CACpB,GAAMC,CAAAA,YAAY,CAAGN,UAAU,CAACG,YAAD,CAA/B,CACA,GAAMI,CAAAA,WAAW,CAAGP,UAAU,CAACE,WAAD,CAA9B,CAFoB,GAIZM,CAAAA,QAJY,CAIAF,YAJA,CAIZE,QAJY,IAKZC,CAAAA,KALY,CAKgCF,WALhC,CAKZE,KALY,CAKLC,KALK,CAKgCH,WALhC,CAKLG,KALK,CAKCC,WALD,CAKgCJ,WALhC,CAKCI,WALD,CAKaC,eALb,CAKgCL,WALhC,CAKaK,eALb,CAOpBX,SAAS,CAAC,UAAM,CACZ,GAAGW,eAAH,CAAoB,CAChBP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CACD,GAAIJ,KAAK,GAAK,qBAAd,CAAqC,CACjCF,QAAQ,CAACE,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACd,CACD;AACH,CATQ,CASP,CAACD,KAAD,CAAOE,eAAP,CAAwBP,KAAK,CAACQ,OAA9B,CATO,CAAT,CAPoB,cAmBId,QAAQ,CAAC,CAC7BgB,KAAK,CAAE,EADsB,CAE7BC,QAAQ,CAAE,EAFmB,CAAD,CAnBZ,wCAmBbC,IAnBa,eAmBPC,OAnBO,kBAuBZH,CAAAA,KAvBY,CAuBQE,IAvBR,CAuBZF,KAvBY,CAuBLC,QAvBK,CAuBQC,IAvBR,CAuBLD,QAvBK,CAyBpB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,QAAIF,CAAAA,OAAO,gCAAMD,IAAN,wBAAYG,CAAC,CAACC,MAAF,CAASC,IAArB,CAA4BF,CAAC,CAACC,MAAF,CAASE,KAArC,GAAX,EAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAJ,CAAC,CAAI,CAClBA,CAAC,CAACK,cAAF,GACA,GAAKV,KAAK,GAAK,EAAV,EAAgBC,QAAQ,GAAK,EAAlC,CAAsC,CAClCR,QAAQ,CAAC,2BAAD,CAA8B,QAA9B,CAAR,CACH,CAFD,IAEO,CACHC,KAAK,CAAC,CACFM,KAAK,CAALA,KADE,CAEFC,QAAQ,CAARA,QAFE,CAAD,CAAL,CAIH,CACJ,CAVD,CAWA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,6CACW,aAAM,SAAS,CAAC,cAAhB,oBADX,GADJ,cAII,cAAM,QAAQ,CAAEQ,QAAhB,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,OAAf,2BADJ,cAEI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAET,KAAxC,CAA+C,QAAQ,KAAvD,CAAwD,QAAQ,CAAEI,QAAlE,EAFJ,GADJ,cAKG,aAAK,SAAS,CAAC,YAAf,wBACK,cAAO,OAAO,CAAC,UAAf,sBADL,cAEK,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEH,QAA9C,CAAwD,QAAQ,KAAhE,CAAiE,QAAQ,CAAEG,QAA3E,EAFL,GALH,cASI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,CAAmC,SAAS,CAAC,2BAA7C,EATJ,GAJJ,GADJ,CAkBH,CAxDD,CA0DA,cAAef,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alert/alertContext';\n\nconst Login = props  => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const { setAlert} = alertContext;\n    const { login, error,clearErrors,isAuthenticated} = authContext;\n\n    useEffect(() => { \n        if(isAuthenticated) {\n            props.history.push('/')\n        }\n        if (error === 'Invalid Credentials') {\n            setAlert(error, 'danger');\n            clearErrors();\n        } \n        //eslint-disable-next-line\n    },[error,isAuthenticated, props.history]);\n\n\n    const [user, setUser] = useState({\n        email: '',\n        password: '',\n    });\n    const { email, password } = user;  \n\n    const onChange = e => setUser({ ...user,[e.target.name]: e.target.value});\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if ( email === '' || password === '') {\n            setAlert('Please fill in all fields', 'danger')\n        } else {\n            login({\n                email,\n                password\n            });\n        }\n    } \n    return (\n        <div className='form-container'>\n            <h1>\n                Account<span className='text-primary'> Login</span>\n            </h1>\n            <form onSubmit={onSubmit}>\n                <div className='form-group'>\n                    <label htmlFor='email'>Email Address</label>\n                    <input type='email' name='email' value={email} required onChange={onChange}/>\n                </div>\n               <div className='form-group'>\n                    <label htmlFor='password'>Password</label>\n                    <input type='password' name='password' value={password} required onChange={onChange}/>\n                </div>\n                <input type='submit' value='Login' className='btn btn-primary btn-block'/>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}