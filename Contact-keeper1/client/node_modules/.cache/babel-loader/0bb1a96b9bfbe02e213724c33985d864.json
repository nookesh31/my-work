{"ast":null,"code":"import _regeneratorRuntime from\"/home/dev5/Desktop/Nookesh/Contact-Keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dev5/Desktop/Nookesh/Contact-Keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dev5/Desktop/Nookesh/Contact-Keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import ContactContext from'./contactContext';import contactReducer from'./contactReducer';import{GET_CONTACTS,ADD_CONTACT,DELETE_CONTACT,SET_CURRENT,CLEAR_CURRENT,UPDATE_CONTACT,FILTER_CONTACTS,CLEAR_CONTACTS,CLEAR_FILTER,CONTACT_ERROR}from'../types';import{jsx as _jsx}from\"react/jsx-runtime\";var ContactState=function ContactState(props){var initialState={contacts:null,current:null,filtered:null,error:null};var _useReducer=useReducer(contactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// get contacts \nvar getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/contacts');case 3:res=_context.sent;dispatch({type:GET_CONTACTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context.t0.response.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();// add contact\nvar addContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.post('/api/contacts',contact,config);case 4:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context2.t0.response.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addContact(_x){return _ref2.apply(this,arguments);};}();// delete contact\nvar deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/contacts/\".concat(id));case 3:dispatch({type:DELETE_CONTACT,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context3.t0.response.msg});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteContact(_x2){return _ref3.apply(this,arguments);};}();// update contact\nvar updateContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{'Content-Type':'application/json'}};_context4.prev=1;_context4.next=4;return axios.put(\"/api/contacts/\".concat(contact._id),contact,config);case 4:res=_context4.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context4.t0.response.msg});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function updateContact(_x3){return _ref4.apply(this,arguments);};}();// clear contacts\nvar clearContacts=function clearContacts(){dispatch({type:CLEAR_CONTACTS});};// set current\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};// clear current\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};// filter contacts\nvar filterContacts=function filterContacts(text){dispatch({type:FILTER_CONTACTS,payload:text});};// clear contacts\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};// set alert\n// remove alert\nreturn/*#__PURE__*/_jsx(ContactContext.Provider,{value:{contacts:state.contacts,current:state.current,filtered:state.filtered,error:state.error,addContact:addContact,deleteContact:deleteContact,setCurrent:setCurrent,clearCurrent:clearCurrent,updateContact:updateContact,filterContacts:filterContacts,clearFilter:clearFilter,getContacts:getContacts,clearContacts:clearContacts},children:props.children});};export default ContactState;","map":{"version":3,"sources":["/home/dev5/Desktop/Nookesh/Contact-Keeper/client/src/context/contact/ContactState.js"],"names":["React","useReducer","axios","ContactContext","contactReducer","GET_CONTACTS","ADD_CONTACT","DELETE_CONTACT","SET_CURRENT","CLEAR_CURRENT","UPDATE_CONTACT","FILTER_CONTACTS","CLEAR_CONTACTS","CLEAR_FILTER","CONTACT_ERROR","ContactState","props","initialState","contacts","current","filtered","error","state","dispatch","getContacts","get","res","type","payload","data","response","msg","addContact","contact","config","headers","post","deleteContact","id","delete","updateContact","put","_id","clearContacts","setCurrent","clearCurrent","filterContacts","text","clearFilter","children"],"mappings":"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","sourcesContent":["import React,{ useReducer } from 'react';\nimport axios from 'axios';\nimport ContactContext from './contactContext';\nimport contactReducer from './contactReducer';\nimport {\n    GET_CONTACTS,\n    ADD_CONTACT,\n    DELETE_CONTACT,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_CONTACT,\n    FILTER_CONTACTS,\n    CLEAR_CONTACTS,\n    CLEAR_FILTER,\n    CONTACT_ERROR\n    \n} from '../types';\n\nconst ContactState = props => {\n    const initialState = {\n        contacts: null,\n        current: null,\n        filtered: null,\n        error: null\n    \n    };\n    const [state, dispatch ] = useReducer(contactReducer, initialState);\n    \n    // get contacts \n    const getContacts = async () => {\n        try {\n            const res = await axios.get('/api/contacts');\n            dispatch({ type: GET_CONTACTS,\n             payload: res.data \n         });\n        } catch (err) {\n         dispatch({  \n             type: CONTACT_ERROR,\n            payload: err.response.msg \n         }); \n        }         \n     };\n    \n    // add contact\n    const addContact = async contact => {\n       const  config = {\n           headers: { \n               'Content-Type': 'application/json'\n           }\n       } \n       try {\n           const res = await axios.post('/api/contacts', contact, config);\n           dispatch({ type: ADD_CONTACT,\n            payload: res.data \n        });\n       } catch (err) {\n        dispatch({  \n            type: CONTACT_ERROR,\n           payload: err.response.msg \n        });\n\n       }\n        \n\n    }\n    // delete contact\n    const deleteContact = async id => {\n        try {\n             await axios.delete(`/api/contacts/${id}`);\n             dispatch({ type: DELETE_CONTACT,payload: id});\n        } catch (err) {\n         dispatch({  \n             type: CONTACT_ERROR,\n            payload: err.response.msg \n         });\n \n        }\n        \n    };\n      // update contact\n      const updateContact = async contact=> {\n        const  config = {\n            headers: { \n                'Content-Type': 'application/json'\n            }\n        } \n        try {\n            const res = await axios.put(`/api/contacts/${contact._id}`, contact, config);\n            dispatch({ type: UPDATE_CONTACT,payload: res.data});\n        } catch (err) {\n         dispatch({  \n             type: CONTACT_ERROR,\n            payload: err.response.msg \n         });\n \n        }\n       \n    }\n\n    // clear contacts\n    const clearContacts = ()=> {\n        dispatch({ type: CLEAR_CONTACTS});\n    }\n    // set current\n    const setCurrent = contact=> {\n        dispatch({ type: SET_CURRENT,payload: contact});\n    }\n    // clear current\n    const clearCurrent = ()=> {\n        dispatch({ type: CLEAR_CURRENT});\n    }\n  \n    // filter contacts\n    const filterContacts = text=> {\n        dispatch({ type: FILTER_CONTACTS,payload: text });\n    }\n    // clear contacts\n    const clearFilter = ()=> {\n        dispatch({ type: CLEAR_FILTER });\n    }\n    // set alert\n    // remove alert\n\nreturn (\n    <ContactContext.Provider value={{\n        contacts: state.contacts,\n        current: state.current,\n        filtered: state.filtered,\n        error: state.error,\n        addContact,\n        deleteContact,\n        setCurrent,\n        clearCurrent,\n        updateContact,\n        filterContacts,\n        clearFilter,\n        getContacts,\n        clearContacts\n\n    }}>\n        { props.children}\n    </ContactContext.Provider>\n)\n};\nexport default ContactState;\n"]},"metadata":{},"sourceType":"module"}